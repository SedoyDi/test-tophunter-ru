{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Route,Routes}from'react-router-dom';import Header from'./header/Header';import Main from'./main/Main';import Footer from'./footer/Footer';import{cards}from'./constants/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[resArr,setIsResArr]=useState([]);const[favCards,setFavCards]=useState([]);const[shoppingCartCards,setShoppingCartCards]=useState([]);function _addId(arr){return arr.map(el=>{const _id=Math.random().toString(16).slice(2);return el={...el,id:_id};});}function _addAndDelCard(card,arr){let resArr=arr;if(!resArr.find(el=>el.id===card.id)){resArr=[...resArr,card];}else{resArr=resArr.filter(el=>el.id!==card.id);};return resArr;}function hendlerFav(card){setFavCards(_addAndDelCard(card,favCards));};function hendlerShoppingCart(card){setShoppingCartCards(_addAndDelCard(card,shoppingCartCards));};useEffect(()=>{//fetch('http://react.ohotaktiv.ru:5000/goods', { mods: 'no-cors' })\n// .then(async (response) => {\n//const arr = response.json()\n//setIsResArr(_addId(arr));\n//})\n//.catch(error => console.log('Error:', error));\n},[]);useEffect(()=>{setIsResArr(_addId(cards));},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Main,{cards:resArr,hendlerFav:hendlerFav,hendlerShoppingCart:hendlerShoppingCart})}),/*#__PURE__*/_jsx(Route,{path:\"/favourites\",element:/*#__PURE__*/_jsx(Main,{cards:favCards,hendlerFav:hendlerFav,hendlerShoppingCart:hendlerShoppingCart})}),/*#__PURE__*/_jsx(Route,{path:\"/shopping-cart\",element:/*#__PURE__*/_jsx(Main,{cards:shoppingCartCards,hendlerFav:hendlerFav,hendlerShoppingCart:hendlerShoppingCart})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Route","Routes","Header","Main","Footer","cards","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","resArr","setIsResArr","favCards","setFavCards","shoppingCartCards","setShoppingCartCards","_addId","arr","map","el","_id","Math","random","toString","slice","id","_addAndDelCard","card","find","filter","hendlerFav","hendlerShoppingCart","children","path","element"],"sources":["C:/Users/Дмитрий/Desktop/mi-project/test-tophunter-ru/src/components/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Route, Routes } from 'react-router-dom';\r\nimport Header from './header/Header';\r\nimport Main from './main/Main';\r\nimport Footer from './footer/Footer';\r\nimport { cards } from './constants/constants';\r\n\r\nfunction App() {\r\n  const [resArr, setIsResArr] = useState([])\r\n  const [favCards, setFavCards] = useState([]);\r\n  const [shoppingCartCards, setShoppingCartCards] = useState([]);\r\n\r\n  function _addId(arr) {\r\n    return arr.map((el) => {\r\n      const _id = Math.random().toString(16).slice(2)\r\n      return el = { ...el, id: _id }\r\n    })\r\n  }\r\n\r\n  function _addAndDelCard(card, arr) {\r\n    let resArr = arr;\r\n    if (!resArr.find(el => el.id === card.id)) {\r\n      resArr = [...resArr, card]\r\n    } else {\r\n      resArr = resArr.filter(el => el.id !== card.id);\r\n    };\r\n    return resArr;\r\n  }\r\n\r\n  function hendlerFav(card) {\r\n    setFavCards(_addAndDelCard(card, favCards));\r\n  };\r\n\r\n  function hendlerShoppingCart(card) {\r\n    setShoppingCartCards(_addAndDelCard(card, shoppingCartCards));\r\n  };\r\n\r\n  useEffect(() => {\r\n    //fetch('http://react.ohotaktiv.ru:5000/goods', { mods: 'no-cors' })\r\n    // .then(async (response) => {\r\n    //const arr = response.json()\r\n    //setIsResArr(_addId(arr));\r\n    //})\r\n    //.catch(error => console.log('Error:', error));\r\n\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setIsResArr(_addId(cards));\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Routes>\r\n        <Route path='/' element={<Main cards={resArr} hendlerFav={hendlerFav} hendlerShoppingCart={hendlerShoppingCart} />} />\r\n        <Route path='/favourites' element={<Main cards={favCards} hendlerFav={hendlerFav} hendlerShoppingCart={hendlerShoppingCart} />} />\r\n        <Route path='/shopping-cart' element={<Main cards={shoppingCartCards} hendlerFav={hendlerFav} hendlerShoppingCart={hendlerShoppingCart} />} />\r\n      </Routes>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}